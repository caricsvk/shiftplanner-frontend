webpackJsonp([1],{0:function(t,e,n){t.exports=n("cDNt")},"1Ey1":function(t,e){t.exports='<select [(ngModel)]="model" (change)="change()" class="ui search selection dropdown" [ngClass]="{\'fluid\': fluid}">\n\t<option [ngValue]="null">Select</option>\n\t<option *ngFor="let option of options" [ngValue]="option">{{getLabel(option)}}</option>\n</select>'},"4pGr":function(t,e){t.exports='<form class="ui big form" (ngSubmit)="save()">\n\t<div class="ui segment">\n\t\t<div class="field">\n\t\t\t<label>\n\t\t\t\tAgent\n\t\t\t</label>\n\t\t\t<milo-select name="agent" [options]="allAgents" value="name" [fluid]="true"\n\t\t\t             (onChange)="newShift.agent=$event"></milo-select>\n\t\t</div>\n\t\t<div class="field">\n\t\t\t<label>Shift Start</label>\n\t\t\t<milo-input-calendar name="datetime" [value]="newShift.start" [minDate]="newShiftMinDate"\n\t\t\t                     (onChange)="setNewShiftStart($event)"></milo-input-calendar>\n\t\t</div>\n\t\t<div class="field">\n\t\t\t<button class="ui primary button" [ngClass]="{\'loading\': isShiftBeingSaved}">\n\t\t\t\t<i class="save icon"></i>\n\t\t\t\tSave\n\t\t\t</button>\n\t\t</div>\n\t</div>\n</form>'},"8EXL":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"#loading{position:fixed;right:0;top:0;z-index:5;float:right;cursor:pointer;height:90%;z-index:11}#loading *{font-weight:700;font-size:25px}.hidden{display:none}#loading.small{transition:all .8s cubic-bezier(.2,0,.3,1)}#loading.small,#loading.small-add.small-add-active{height:60px}\n/*#loading.big {*/\n    /*-webkit-transition:all cubic-bezier(0, 0, 1, 1) 0.5s;*/\n    /*-moz-transition:all cubic-bezier(0, 0, 1, 1) 0.5s;*/\n    /*-o-transition:all cubic-bezier(0, 0, 1, 1) 0.5s;*/\n    /*transition:all cubic-bezier(0, 0, 1, 1) 0.5s;*/\n/*}*/\n/*#loading.big,*/\n/*#loading.big-add.big-add-active {*/\n    /*height: 100px;*/\n/*}*/\n\n/*#loading .load,*/\n/*#loading .reload, {*/\n    /*-webkit-transition:all cubic-bezier(0, 0, 1, 1) 3.5s;*/\n    /*-moz-transition:all cubic-bezier(0, 0, 1, 1) 3.5s;*/\n    /*-o-transition:all cubic-bezier(0, 0, 1, 1) 3.5s;*/\n    /*transition:all cubic-bezier(0, 0, 1, 1) 3.5s;*/\n/*}*/\n\n/*#loading .load {opacity: 1;}*/\n/*#loading .load.ng-hide {*/\n    /*opacity:0;*/\n/*}*/",""]),t.exports=t.exports.toString()},"9nYn":function(t,e){t.exports='<div class="milo-notification ui segment" *ngIf="notifications.length">\n\t<div *ngFor="let notification of notifications; let i = index" role="alert" class="ui message" [ngClass]="notification.cssClass">\n\t\t<i class="large close icon" (click)="notifications.splice(i, 1)"></i>\n\t\t<div class="header">{{notification.message}}</div>\n\t\t\x3c!--<p>Go to your <b>special offers</b> page to see now.</p>--\x3e\n\t</div>\n</div>'},B8XN:function(t,e){t.exports='<h2>Shifts</h2>\n\n<milo-table [adapter]="shiftsTableAdapter"></milo-table>\n\n<p>\n\tTotal duration: {{totalDuration | async | duration}}.\n</p>'},BeiC:function(t,e){t.exports='<div class="ui stackable centered padded grid">\n\n\t<div class="four wide widescreen five wide large screen six wide computer sixteen wide tablet column">\n\n\t\t<h2>Current shift</h2>\n\t\t<app-current-shift></app-current-shift>\n\n\t\x3c!--</div>--\x3e\n\t\x3c!--<div class="six wide widescreen seven wide large screen eight wide computer sixteen wide tablet column">--\x3e\n\n\t\t<h2>Schedule shift</h2>\n\t\t<app-schedule-shift></app-schedule-shift>\n\n\t</div>\n\n\t<div class="eight wide widescreen nine wide large screen ten wide computer sixteen wide tablet column">\n\n\t\t<h2>Agents</h2>\n\n\t\t<div class="ui three column doubling grid">\n\t\t\t<div *ngFor="let agent of agents" class="column">\n\t\t\t\t<div class="ui fluid card">\n\t\t\t\t\t<div class="content">\n\t\t\t\t\t\t<div class="description">{{agent.name}}</div>\n\t\t\t\t\t\t<div class="meta">\n\t\t\t\t\t\t\t{{agent.email}}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<button *ngIf="currentShift.agent.id != agent.id" class="ui bottom positive button" (click)="activate(agent)"\n\t\t\t\t\t        [ngClass]="{\'loading\': agent == agentsActivationInProgress}">\n\t\t\t\t\t\tActivate\n\t\t\t\t\t</button>\n\t\t\t\t\t<button *ngIf="currentShift.agent.id == agent.id" class="ui bottom basic positive button" disabled>\n\t\t\t\t\t\tActive\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t\t<div>\n\t\t\t<br>\n\t\t\t<a routerLink="/agents">Show all agents</a>\n\t\t</div>\n\n\t</div>\n\n\t<div class="twelve wide widescreen fourteen wide large screen sixteen wide computer column">\n\n\t\t<h2>Upcoming shifts</h2>\n\n\t\t<table class="ui striped celled table">\n\t\t\t<thead>\n\t\t\t\t<tr>\n\t\t\t\t\t<th>Order</th>\n\t\t\t\t\t<th>Agent</th>\n\t\t\t\t\t<th>Starts at</th>\n\t\t\t\t\t<th>Action</th>\n\t\t\t\t</tr>\n\t\t\t</thead>\n\t\t\t<tbody>\n\t\t\t\t<tr *ngFor="let shift of upcomingShifts; let i = index">\n\t\t\t\t\t<td>\n\t\t\t\t\t\t{{shift.state === \'DEPLOYED\' ? \'Running\' : i + \'. Upcoming\'}}\n\t\t\t\t\t</td>\n\t\t\t\t\t<td>{{shift.agent.name}}</td>\n\t\t\t\t\t<td>{{shift.start}}</td>\n\t\t\t\t\t<td>\n\t\t\t\t\t\t<button *ngIf="shift.state === \'PLANNED\'" class="ui button" type="button" (click)="deleteShift(shift)"\n\t\t\t\t\t\t        [ngClass]="{\'loading\': shiftsDeletionInProgress == shift}">\n\t\t\t\t\t\t\tDelete\n\t\t\t\t\t\t</button>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>\n\t\t\t\t<tr *ngIf="!upcomingShifts || !upcomingShifts.length">\n\t\t\t\t\t<td colspan="4">No shift yet</td>\n\t\t\t\t</tr>\n\t\t\t</tbody>\n\t\t</table>\n\n\t\t<a routerLink="/shifts">Show all shifts</a>\n\t</div>\n\n</div>'},Fj0C:function(t,e){t.exports='<div class="ui calendar">\n\n  <div class="ui action input">\n    <input [name]="name" readonly="readonly" value="" [placeholder]="placeholder" type="text">\n    <button type="button" class="ui teal icon button" (click)="focusCalendar()" [ngClass]="{\'loading\': loading}">\n      <i class="calendar icon"></i>\n    </button>\n  </div>\n\n</div>'},KFK4:function(t,e){t.exports='<form class="ui big form">\n\t<div class="ui green segment">\n\t\t<div class="field">\n\t\t\t<label>Agent</label>\n\t\t\t<span>{{currentShift.agent.name}}, {{currentShift.agent.email}}, {{currentShift.agent.phone}}</span>\n\t\t</div>\n\t\t<div class="fields">\n\t\t\t<div class="eight wide field">\n\t\t\t\t<label>Duration</label>\n\t\t\t\t<span>{{currentShift.duration | duration}}</span>\n\t\t\t</div>\n\t\t\t<div class="eight wide field">\n\t\t\t\t<label>Next shift starts in</label>\n\t\t\t\t<span>{{nextShiftStartIn | duration}}</span>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</form>\n'},KMGy:function(t,e){},"Pj7/":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,":host ::ng-deep table button.Activate{color:#006400!important}",""]),t.exports=t.exports.toString()},QIuJ:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},QmJr:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},RDyU:function(t,e){t.exports='<div [ngSwitch]="column.type">\n\n\t<div *ngSwitchDefault class="field">\n\t\t<input [name]="column.key" type="text" [placeholder]="column.name"\n\t\t       [ngModel]="value" (ngModelChange)="emitChange($event)"/>\n\t</div>\n\n\t<div *ngSwitchCase="\'number\'" class="two fields">\n\t\t<span class="field">\n\t\t\t<input [name]="column.key + \'min\'" type="number" placeholder="Min"\n\t\t\t       [ngModel]="value.min" (ngModelChange)="emitChange({\'min\': $event})"/>\n\t\t</span>\n\t\t<span class="field">\n\t\t\t<input [name]="column.key + \'max\'" type="number" placeholder="Max"\n\t\t\t       [ngModel]="value.max" (ngModelChange)="emitChange({\'max\': $event})"/>\n\t\t</span>\n\t</div>\n\n\t<div *ngSwitchCase="\'datetime\'" class="two fields">\n\t\t<span class="field">\n\t\t\t<milo-input-calendar placeholder="From" (onChange)="emitChange({\'min\': $event.getDate()})" [value]="value.min">\n\t\t\t</milo-input-calendar>\n\t\t</span>\n\t\t<span class="field">\n\t\t\t<milo-input-calendar placeholder="To" (onChange)="emitChange({\'max\': $event.getDate()})" [value]="value.max">\n\t\t\t</milo-input-calendar>\n\t\t</span>\n\t</div>\n\n\t<div *ngSwitchCase="\'boolean\'" class="boolean-handler">\n\t\t<label><input [name]="column.key" type="radio" (click)="emitChange(true)" [checked]="value === true" /> T</label>\n\t\t<label><input [name]="column.key" type="radio" (click)="emitChange(false)" [checked]="value === false" /> F</label>\n\t\t<label><input [name]="column.key" type="radio" (click)="emitChange(null)" [checked]="value === null" /> N</label>\n\t</div>\n\n\t<div *ngSwitchCase="\'select\'" class="field">\n\t\t<milo-select [model]="value" [options]="column.values" (onChange)="emitChange($event)"></milo-select>\n\t</div>\n\n\t\x3c!--<span ng-switch-when="time">--\x3e\n\t\x3c!--<div>--\x3e\n\t\x3c!--<button ng-model="column.state.min" ng-click="column.pickerMin=!column.pickerMin" ng-change="updateColumnState(column)"--\x3e\n\t\x3c!--type="button" class="date-filter" uib-datepicker-popup is-open="column.pickerMin" show-weeks="false" ng-attr-title="{{::_(column.name)}}">--\x3e\n\t\x3c!--<span ng-if="column.state.min">{{column.state.min | date}}</span>--\x3e\n\t\x3c!--<span ng-if="! column.state.min">{{::_(\'Date\')}}</span>--\x3e\n\t\x3c!--&nbsp;--\x3e\n\t\x3c!--<i class="glyphicon glyphicon-calendar"></i>--\x3e\n\t\x3c!--</button>--\x3e\n\t\x3c!--</div>--\x3e\n\t\x3c!--</span>--\x3e\n\t\x3c!-- TODO empty handling --\x3e\n\n</div>'},Vk2T:function(t,e){t.exports='<app-create-agent [agent]="agent"></app-create-agent>\n\n<h2>Agents</h2>\n<milo-table [adapter]="tableAdapter"></milo-table>'},"W+Xv":function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},XAbO:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},ZZEr:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".doubling.cards *{word-break:break-all}",""]),t.exports=t.exports.toString()},aPHc:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},cDNt:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("/oeL"),o=n("Qa4U"),r=n("fc+i"),a=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.componentInitialized=!0}return t.prototype.reload=function(){var t=this;this.componentInitialized=!1,setTimeout(function(){return t.componentInitialized=!0})},t}();c=a([Object(i.o)({selector:"app-root",template:n("efyd"),styles:[n("hxJY")]}),s("design:paramtypes",[])],c);var l=n("CPp0"),u=n("bm2B"),f=function(){function t(t,e,n,i){void 0===t&&(t=1),void 0===e&&(e=10),void 0===i&&(i="DESC"),this.page=t,this.pageSize=e,this.order=n,this.orderType=i}return t.create=function(e){var n=new t;for(var i in e)n.setValue(i,e[i]);return n},t.prototype.setValue=function(t,e){if("string"==typeof t)var n=t;else{var i=t,o=this.makeQuery(i,e);n=o.key;e=o.value,"boolean"==i.type&&(delete this[i.key+"_exact"],delete this[i.key+"_empty"])}"page"!=n&&"pageSize"!=n||(e=parseInt(e)),"function"!=typeof e&&(this[n]=e)},t.prototype.getValue=function(t){if("string"==typeof t)var e=t;else{e=this.makeQuery(t).key;if("boolean"===t.type&&e.endsWith("_empty")&&this[e])return null}var n=e.indexOf("_minmax");if(n>=0){var i=e.substr(0,n);return{min:this[i+"_min"],max:this[i+"_max"]}}return this[e]},t.prototype.setOrder=function(t){this.orderType=this.order!=t.key?"DESC":this.getOppositeOrderType(),this.order=t.key},t.prototype.getOrderType=function(){return this.orderType},t.prototype.getOppositeOrderType=function(){return"ASC"===this.orderType?"DESC":"ASC"},t.prototype.getUrlSearchParams=function(){var t=new l.e;for(var e in this)this.hasOwnProperty(e)&&this.isValueSet(this[e])&&"page"!=e&&"pageSize"!=e&&t.set(e,""+this[e]);var n=this.pageSize?this.pageSize:10,i=this.page?this.page:1;return t.set("limit",""+n),t.set("offset",""+n*(i-1)),t},t.prototype.containsKeyPrefix=function(t){for(var e in this)if(this.hasOwnProperty(e)&&this.isValueSet(this[e])&&e.startsWith(t))return!0;return!1},t.prototype.isValueSet=function(t){return null!=t&&void 0!==t&&""!==t},t.prototype.makeQuery=function(t,e){switch(t.type){case"entity":var n="_wild";break;case"date":case"time":case"datetime":case"number":if(e)for(var i in e){n="_"+i;e=e[i]&&"number"!=t.type?e[i].getTime():e[i]}else n="_minmax";break;case"exact":n="_exact";break;case"boolean":n="_exact";var o=void 0==e&&"undefined"==typeof this[t.key+n];(null===e||o)&&(n="_empty",e=!0);break;case"min":n="_min";break;case"max":n="_max";break;default:n="_wild"}return{key:t.key+n,value:e}},t}(),p=n("KMGy"),h=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},g=function(){function t(){this.showFilters=null,this.makeEmptyRows=!0,this.actions=null,this.state=new f(1,10),this.columns=[],this.rows=[],this.maxPages=1,this.rowsTotalCount=0}return t.prototype.ngOnInit=function(){},t.prototype.ngOnChanges=function(t){var e=this;this.columns=this.adapter.getAllColumns(),this.actions=this.adapter.getActions(),this.adapter.onStateChange().subscribe(function(t){return e.fetch(t)})},t.prototype.fetch=function(t){var e=this;console.log("MiloTableComponent fetching",t),this.state=t,this.state.order||this.state.setOrder(this.columns[0]),this.fetchCount(this.state),this.adapter.fetchData(this.state).then(function(t){e.rows=t;for(var n=e.rows.length;e.makeEmptyRows&&n<e.state.pageSize;n++)e.rows.push(null)});for(var n=0;null===this.showFilters&&n<this.columns.length;n++)this.state.containsKeyPrefix(this.columns[n].key)&&(this.showFilters=!0)},t.prototype.fetchCount=function(t){var e=this;this.adapter.fetchCount(t).then(function(n){e.rowsTotalCount=n,e.maxPages=parseInt(""+(t.pageSize+n)/t.pageSize)})},t.prototype.filter=function(){this.state.page=1,this.adapter.setState(this.state)},t.prototype.changeFilter=function(t,e){this.state.setValue(t,e),this.fetchCount(this.state)},t.prototype.changeSort=function(t){this.state.setOrder(t),this.adapter.setState(this.state)},t.prototype.changePage=function(t){var e=this.state.page+t;e>=1&&e<=this.maxPages&&(this.state.page=e,this.adapter.setState(this.state))},t.prototype.changePageSize=function(t){t!=this.state.pageSize&&(this.state.page=1,this.state.pageSize=t,this.adapter.setState(this.state))},t}();h([Object(i.F)(),d("design:type","function"==typeof(y="undefined"!=typeof p.TableAdapter&&p.TableAdapter)&&y||Object)],g.prototype,"adapter",void 0),h([Object(i.F)(),d("design:type",Boolean)],g.prototype,"showFilters",void 0),h([Object(i.F)(),d("design:type",Boolean)],g.prototype,"makeEmptyRows",void 0),g=h([Object(i.o)({selector:"milo-table",template:n("dWrS"),styles:[n("QmJr")]}),d("design:paramtypes",[])],g);var y,m=function(){function t(t,e,n,i,o){this.name=t,this.key=e,this.type=n,this.viewFn=i,this.values=o}return t.prototype.view=function(t){return this.viewFn?this.viewFn(t):t[this.key]},t}(),b=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},v=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},S=function(){function t(){this.onChange=new i.x}return t.prototype.ngOnChanges=function(t){"boolean"==this.column.type&&(this.value=this.convertBooleanValue(this.value))},t.prototype.convertBooleanValue=function(t){switch(t){case"true":return!0;case"false":return!1;case"null":return null;default:return t}},t.prototype.emitChange=function(t){this.onChange.emit(t)},t}();b([Object(i.F)(),v("design:type","function"==typeof(O="undefined"!=typeof m&&m)&&O||Object)],S.prototype,"column",void 0),b([Object(i.F)(),v("design:type",Object)],S.prototype,"value",void 0),b([Object(i.T)(),v("design:type",Object)],S.prototype,"onChange",void 0),S=b([Object(i.o)({selector:"milo-filter",template:n("RDyU"),styles:[n("aPHc")]}),v("design:paramtypes",[])],S);var O,w=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},j=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},x=function(){function t(){this.data=[{id:2,name:"Home",enabled:!1,tags:[{id:101,tag:"domov"}]},{id:1,name:"World",enabled:!1,tags:[{id:23,tag:"world"}]},{id:3,name:"Life & Culture",tags:[{id:67,tag:"art"}]},{id:4,name:"Tech & Science",enabled:!0,tags:[{id:56,tag:"veda"},{id:57,tag:"vat"}]},{id:24,name:"Relations & Sex",enabled:!0,tags:[{id:20,tag:"laska"},{id:60,tag:"vztah"},{id:61,tag:"sex"}]},{id:22,name:"Travel",enabled:!0,tags:[{id:229,tag:"dovolenk"}]},{id:39,name:"Entertainment",enabled:!0,tags:[{id:245,tag:"chillin"},{id:231,tag:"inspir"}]},{id:26,name:"Hockey"},{id:41,name:"Health",tags:[]},{id:20,name:"TV & Movies",enabled:!0},{id:36,name:"Apps & Games",tags:[{}]},{id:23,name:"Style & Beauty",enabled:!1,tags:[{id:74,tag:"style"},{id:75,tag:"beauty"},{id:62,tag:"moda"},{id:63,tag:"styl"}]},{id:37,name:"Internet",enabled:!0,tags:[]},{name:"People",enabled:!0},{id:16,enabled:!1,name:null},{id:10,name:"Asia",enabled:!0,tags:[{id:134,tag:"azia"}]},{id:33},{id:34,enabled:!0,name:"Work"},{id:42,enabled:!0,name:"Space & Physics"},{id:31,enabled:!0,name:"Personal Finance"},{id:30,enabled:!1,name:"Race",tags:[{id:39,tag:"nascar"},{id:94,tag:"motosport"}]},{id:11,name:"Africa & Middle East"},{id:5,name:"Finance & Economics",tags:[{id:43,tag:"money"},{id:52,tag:"peniaze"}]},{id:32,name:"Economy"}]}return t.prototype.getData=function(){return this.data},t}();x=w([Object(i.C)(),j("design:paramtypes",[])],x);var R=n("U6yM"),P=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},_=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},C=function(){function t(t){this.service=t,this.title="milo",console.log("AppComponent constructor"),this.table=new E(t)}return t.prototype.ngOnInit=function(){console.log("AppComponent OnInit"),this.table.onStateChange().subscribe(function(t){console.log("state changed",t)})},t}();C=P([Object(i.o)({selector:"milo-root",template:n("sem+"),styles:[n("tZne")]}),_("design:paramtypes",["function"==typeof(D="undefined"!=typeof x&&x)&&D||Object])],C);var D,E=function(){function t(t){var e=this;this.service=t,this.state=new f,this.stateObservable=R.a.create(function(t){return e.stateObserver=t}).publishReplay(1),this.stateObservable.connect(),this.stateObserver.next(this.state)}return t.prototype.setState=function(t){this.state=t,this.stateObserver&&this.stateObserver.next(t)},t.prototype.getState=function(){return this.state},t.prototype.onStateChange=function(){return this.stateObservable},t.prototype.fetchData=function(t){var e=(t.page-1)*t.pageSize,n=e+t.pageSize;return Promise.resolve(this.service.getData().sort(function(e,n){if(!t.order)return-1;var i="DESC"==t.getOrderType()?-1:1;return e[t.order]<n[t.order]?-1*i:e[t.order]>n[t.order]?i:0}).slice(e,n))},t.prototype.fetchCount=function(t){return Promise.resolve(this.service.getData().length)},t.prototype.getAllColumns=function(){var t=[];return t.push(new m("ID","id","number")),t.push(new m("Name","name")),t.push(new m("Enabled","enabled","boolean")),t.push(new m("From","start","datetime")),t.push(new m("To","end","datetime")),t.push(new m("Tags","tags.tag","entity",function(t){return t.tags?t.tags.map(function(t){return t.tag}).join(","):""})),t},t.prototype.getActions=function(){},t}(),k=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},A=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},T=function(){function t(){this.type="text",this.fieldClass="field"}return t.prototype.ngOnInit=function(){this.id="milo-input-"+this.name,void 0===this.label&&(this.label=this.name)},t}();k([Object(i.F)(),A("design:type",Object)],T.prototype,"model",void 0),k([Object(i.F)(),A("design:type",String)],T.prototype,"name",void 0),k([Object(i.F)(),A("design:type",String)],T.prototype,"label",void 0),k([Object(i.F)(),A("design:type",String)],T.prototype,"type",void 0),k([Object(i.F)(),A("design:type",String)],T.prototype,"fieldClass",void 0),T=k([Object(i.o)({selector:"[milo-input]",template:n("ebfS"),styles:[n("e4G1")]}),A("design:paramtypes",[])],T);var I=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},F=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},M=function(){function t(t){this.el=t,this.onChange=new i.x,this.fluid=!1,this.name="",this.getLabel=function(t){return t}}return t.prototype.ngOnInit=function(){var t=this;"string"==typeof this.value?this.getLabel=function(e){return e[t.value]}:"function"==typeof this.value&&(this.getLabel=this.value)},t.prototype.ngAfterViewInit=function(){var t=this;if(this.name&&this.el.nativeElement.getElementsByTagName("select")[0].setAttribute("name",this.name),jQuery){var e=jQuery(this.el.nativeElement);e.dropdown&&(this.jqueryDropdown=e.find("select"),this.jqueryDropdown.dropdown({fullTextSearch:!0}),this.model&&setTimeout(function(){return t.jqueryDropdown.dropdown("set selected",t.getLabel(t.model))}))}},t.prototype.change=function(){this.onChange.emit(this.model),this.jqueryDropdown&&jQuery(":focus").blur()},t}();I([Object(i.T)(),F("design:type",Object)],M.prototype,"onChange",void 0),I([Object(i.F)(),F("design:type",Object)],M.prototype,"model",void 0),I([Object(i.F)(),F("design:type",Array)],M.prototype,"options",void 0),I([Object(i.F)(),F("design:type",Object)],M.prototype,"value",void 0),I([Object(i.F)(),F("design:type",Object)],M.prototype,"fluid",void 0),I([Object(i.F)(),F("design:type",Object)],M.prototype,"name",void 0),M=I([Object(i.o)({selector:"milo-select",template:n("1Ey1"),styles:[n("QIuJ")]}),F("design:paramtypes",["function"==typeof(L="undefined"!=typeof i.v&&i.v)&&L||Object])],M);var L,z=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},N=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},q=function(){function t(t){this.el=t,this.name="calendar",this.type="datetime",this.placeholder="",this.value=null,this.minDate=null,this.loading=!1,this.onChange=new i.x}return t.prototype.ngAfterViewInit=function(){this.calendarEl=jQuery(this.el.nativeElement);var t=this,e=null;this.calendarEl.calendar({type:this.type,minDate:this.minDate,onChange:function(t,n){e=t},onHidden:function(){t.onChange.emit(new B(e))}}),this.ngOnChanges()},t.prototype.ngOnChanges=function(){if(this.calendarEl)if(this.value){var t="string"==typeof this.value||"number"==typeof this.value?parseInt(this.value):0,e=t>9999?new Date(t):"string"==typeof this.value?new Date(this.value):this.value;this.calendarEl.calendar("set date",e,!0,!1)}else this.calendarEl.calendar("clear")},t.prototype.focusCalendar=function(){this.calendarEl.calendar("focus")},t}();z([Object(i.F)(),N("design:type",String)],q.prototype,"name",void 0),z([Object(i.F)(),N("design:type",String)],q.prototype,"type",void 0),z([Object(i.F)(),N("design:type",String)],q.prototype,"placeholder",void 0),z([Object(i.F)(),N("design:type",Object)],q.prototype,"value",void 0),z([Object(i.F)(),N("design:type",Object)],q.prototype,"minDate",void 0),z([Object(i.F)(),N("design:type",Boolean)],q.prototype,"loading",void 0),z([Object(i.T)(),N("design:type",Object)],q.prototype,"onChange",void 0),q=z([Object(i.o)({selector:"milo-input-calendar",template:n("Fj0C"),styles:[n("W+Xv")]}),N("design:paramtypes",["function"==typeof(Y="undefined"!=typeof i.v&&i.v)&&Y||Object])],q);var Y,B=function(){function t(t){this.date=t}return t.prototype.getDate=function(){return this.date},t.prototype.getLocalDateTime=function(){return this.date?new Date(this.date.getTime()-60*this.date.getTimezoneOffset()*1e3).toISOString().substr(0,19):""},t}(),U=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),V=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},Q=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},H=Z=function(t){U(e,t);function e(e,n){return t.call(this,e,n)||this}return e.getPendingRequests=function(){return Z.pendingRequestsObservable},e.prototype.request=function(e,n){return Z.pendingRequestsSubscriber.next(++Z.pendingRequests),t.prototype.request.call(this,e,n).do(function(t){return Z.pendingRequestsSubscriber.next(--Z.pendingRequests)},function(t){return Z.pendingRequestsSubscriber.next(--Z.pendingRequests)})},e}(l.b);H.pendingRequests=0,H.pendingRequestsSubscriber=R.c.create(),H.pendingRequestsObservable=R.a.create(function(t){return Z.pendingRequestsSubscriber=t}),H=Z=V([Object(i.C)(),Q("design:paramtypes",["function"==typeof(K="undefined"!=typeof l.a&&l.a)&&K||Object,"function"==typeof(W="undefined"!=typeof l.d&&l.d)&&W||Object])],H);var Z,K,W,X=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},$=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},G=function(){function t(t){this.el=t,this.onReloadRequested=new i.x,this.loadingClass="small",this.loadingsCount=0}return t.prototype.ngOnInit=function(){var t=this;this.subscription=H.getPendingRequests().subscribe(function(e){return t.loadingsCount=e})},t.prototype.ngAfterViewInit=function(){var t=window.location.href.replace(window.location.hash,"");this.el.nativeElement.querySelectorAll("[*|href]").forEach(function(e){e.setAttribute("xlink:href",t+e.getAttribute("xlink:href"))})},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.reload=function(){this.onReloadRequested.emit()},t}();X([Object(i.T)(),$("design:type",Object)],G.prototype,"onReloadRequested",void 0),G=X([Object(i.o)({selector:"milo-loading",template:n("yZ08"),styles:[n("8EXL")]}),$("design:paramtypes",["function"==typeof(J="undefined"!=typeof i.v&&i.v)&&J||Object])],G);var J,tt=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},et=function(){function t(){}return t.prototype.transform=function(t,e){void 0===e&&(e=!1);var n=e?t%60+"s":"",i=t/60;n=Math.floor(i)%60+"m "+n;var o=i/60;n=Math.floor(o)%24+"h "+n;var r=o/24;return Math.floor(r)>0&&(n=Math.floor(r)+"d "+n),n},t}();et=tt([Object(i.X)({name:"duration"})],et);var nt=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},it=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ot=rt=function(){function t(){}return t.prototype.ngOnInit=function(){},t.info=function(t){rt.notifications.push({message:t,cssClass:"info"})},t.error=function(t){rt.notifications.push({message:t,cssClass:"error"})},t.warning=function(t){rt.notifications.push({message:t,cssClass:"warning"})},t.success=function(t){rt.notifications.push({message:t,cssClass:"positive"})},Object.defineProperty(t.prototype,"notifications",{get:function(){return rt.notifications},enumerable:!0,configurable:!0}),t}();ot.notifications=[],ot=rt=nt([Object(i.o)({selector:"milo-notification",template:n("9nYn"),styles:[n("mSKe")]}),it("design:paramtypes",[])],ot);var rt,at=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},st=function(){return function(){}}();st=at([Object(i.M)({declarations:[C,g,S,T,M,q,G,et,ot],imports:[r.a,u.a],exports:[g,T,M,q,G,ot,et],providers:[x,et],bootstrap:[C]})],st);var ct,lt=n("BkNc"),ut=function(){function t(){var t=this;this._observable=R.a.create(function(e){return t._subscriber=e}).publishReplay(1),this._observable.connect()}return Object.defineProperty(t.prototype,"observable",{get:function(){return this._observable},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"subscriber",{get:function(){return this._subscriber},enumerable:!0,configurable:!0}),t}(),ft=function(){function t(t){void 0===t&&(t=new f),this.stateStore=new ut,this.setState(t)}return t.prototype.getStateString=function(t){return JSON.stringify(t,function(t,e){return"number"==typeof e?e+"":e})},t.prototype.setState=function(t){var e=this.getStateString(t);this.stateStore&&this.lastFetchedState!=e&&(this.lastFetchedState=e,this.stateStore.subscriber.next(t))},t.prototype.onStateChange=function(){return this.stateStore.observable},t.prototype.getActions=function(){return null},t}(),pt=function(){return function(t,e,n,i){this.id=t,this.name=e,this.email=n,this.phone=i}}(),ht=function(){function t(t,e,n){void 0===e&&(e=new pt),this.id=t,this.agent=e,this.start=n}return t.prototype.getEnd=function(){return this.end},t.prototype.getState=function(){return this.state},t.prototype.getDuration=function(){return this.duration},t.prototype.isStatePlanned=function(){return this.getState()==ct.PLANNED||"PLANNED"==this.getState()},t}();(dt=ct||(ct={}))[dt.PLANNED=0]="PLANNED",dt[dt.DEPLOYED=1]="DEPLOYED";var dt,gt=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},yt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},mt=function(){function t(t){var e=this;this.http=t,this.apiPath="/api/shifts",this.upcomingShiftStore=new ut,this.currentShiftStore=new ut,this.currentShift=new ht,this.durationSumStore=new ut,this.dataChangeSubscriber=R.c.create(),this.dataChangeEvents=R.a.create(function(t){return e.dataChangeSubscriber=t}).share(),this.fetchCurrentShift(),this.fetchUpcomingShift(),this.dataChangeEvents.subscribe(function(){e.fetchCurrentShift(),e.fetchUpcomingShift()}),setInterval(function(){e.fetchCurrentShift(),e.fetchUpcomingShift()},6e4)}return t.prototype.save=function(t){var e=this,n=this.http[t.id?"put":"post"](this.apiPath,t).map(function(t){return Object.assign(new ht,t.json())}).toPromise();return n.then(function(){return e.dataChangeSubscriber.next(bt.CREATE)}),n},t.prototype.remove=function(t){var e=this,n=this.http.delete(this.apiPath+"/"+t.id).toPromise();return n.then(function(){return e.dataChangeSubscriber.next(bt.DELETE)}),n},t.prototype.read=function(t){return this.http.get(this.apiPath+t).map(this.mapResponseToShift)},t.prototype.search=function(t){return this.fetchDurationSum(t),this.http.get(this.apiPath,{search:t}).map(this.mapResponseToShifts).toPromise()},t.prototype.lastSearchDurationSum=function(){return this.durationSumStore.observable.map(function(t){return t.value})},t.prototype.count=function(t){return this.http.get(this.apiPath+"/count",{search:t}).map(function(t){return t.json().value}).toPromise()},t.prototype.getCurrentShift=function(){return this.currentShiftStore.observable},t.prototype.getUpcomingShift=function(){return this.upcomingShiftStore.observable},t.prototype.fetchDurationSum=function(t){var e=this;this.http.get(this.apiPath+"/sum-duration",{search:t}).subscribe(function(t){return e.durationSumStore.subscriber.next(t.json())})},t.prototype.fetchCurrentShift=function(){var t=this;this.http.get(this.apiPath,{search:"limit=1&order=start&orderType=DESC&state_exact=DEPLOYED"}).map(function(t){return Object.assign(new ht,t.json()[0])}).subscribe(function(e){t.currentShiftStore.subscriber.next(e);var n=e.id!=t.currentShift.id;t.currentShift=e,n&&t.dataChangeSubscriber.next(bt.EDIT)})},t.prototype.fetchUpcomingShift=function(){var t=this;this.http.get(this.apiPath,{search:"limit=1&order=start&orderType=ASC&state_exact=PLANNED"}).map(function(t){return Object.assign(new ht,t.json()[0])}).subscribe(function(e){return t.upcomingShiftStore.subscriber.next(e)})},t.prototype.mapResponseToShifts=function(t){var e=[];return(t.json()||[]).forEach(function(t){return e.push(Object.assign(new ht,t))}),e},t.prototype.mapResponseToShift=function(t){return Object.assign(new ht,t.json())},t}();mt=gt([Object(i.C)(),yt("design:paramtypes",["function"==typeof(St="undefined"!=typeof l.b&&l.b)&&St||Object])],mt);var bt;(vt=bt||(bt={}))[vt.CREATE=0]="CREATE",vt[vt.EDIT=1]="EDIT",vt[vt.DELETE=2]="DELETE";var vt,St,Ot=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),wt=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},jt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},xt=function(){function t(t,e,n,i){var o=this;this.shiftsService=t,this.durationPipe=e,this.activatedRoute=n,this.router=i,this.totalDuration=null,n.queryParams.subscribe(function(t){o.shiftsTableAdapter&&o.shiftsTableAdapter.setState(f.create(t))}),this.totalDuration=this.shiftsService.lastSearchDurationSum()}return t.prototype.ngOnInit=function(){var t=this,e=f.create(this.activatedRoute.snapshot.queryParams);e.order||(e.order="start"),this.navigateByState(e,!0),this.shiftsTableAdapter=new Dt(e,this.shiftsService,this.durationPipe),this.shiftsTableAdapter.onStateChange().subscribe(function(e){return t.navigateByState(e)})},t.prototype.navigateByState=function(t,e){void 0===e&&(e=!1),this.router.navigate(["."],{queryParams:t,preserveFragment:!0,relativeTo:this.activatedRoute,replaceUrl:e})},t}();xt=wt([Object(i.o)({selector:"app-shifts",template:n("B8XN"),styles:[n("XAbO")]}),jt("design:paramtypes",["function"==typeof(Rt="undefined"!=typeof mt&&mt)&&Rt||Object,"function"==typeof(Pt="undefined"!=typeof et&&et)&&Pt||Object,"function"==typeof(_t="undefined"!=typeof lt.a&&lt.a)&&_t||Object,"function"==typeof(Ct="undefined"!=typeof lt.b&&lt.b)&&Ct||Object])],xt);var Rt,Pt,_t,Ct,Dt=function(t){Ot(e,t);function e(e,n,i){var o=t.call(this,e)||this;return o.shiftsService=n,o.durationPipe=i,o}return e.prototype.fetchData=function(t){return this.shiftsService.search(t.getUrlSearchParams())},e.prototype.fetchCount=function(t){return this.shiftsService.count(t.getUrlSearchParams())},e.prototype.getAllColumns=function(){var t=this;return[new m("Agent","agent.name","entity",function(t){return t.agent.name}),new m("From","start","datetime"),new m("To","end","datetime",function(t){return t.getEnd()?t.getEnd():t.isStatePlanned()?"":"now"}),new m("Duration","duration","number",function(e){return e.isStatePlanned()?"":e.getEnd()?t.durationPipe.transform(e.getDuration()):"In progress"}),new m("State","state","select",void 0,["PLANNED","DEPLOYED"])]},e}(ft),Et=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},kt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},At=Ft=function(){function t(t,e){var n=this;this.http=t,this.shiftsService=e,this.apiPath="/api/agents",this.dataChangeSubscriber=R.c.create(),this.dataChangeEvents=R.a.create(function(t){return n.dataChangeSubscriber=t}).share(),this.read=function(t){return n.http.get(n.apiPath+t).map(Ft.mapResponseToEntity).toPromise()}}return t.prototype.activate=function(t){var e=this,n=this.http.put(this.apiPath+"/activate",t).toPromise();return n.then(function(){return e.shiftsService.dataChangeSubscriber.next(Tt.EDIT)}),n},t.prototype.save=function(t){var e=this,n=this.http[t.id?"put":"post"](this.apiPath,t).map(Ft.mapResponseToEntity).toPromise();return n.then(function(){return e.dataChangeSubscriber.next(t.id?Tt.EDIT:Tt.CREATE)}),n},t.prototype.remove=function(t){var e=this,n=this.http.delete(this.apiPath+"/"+t.id).toPromise();return n.then(function(){return e.dataChangeSubscriber.next(Tt.DELETE)},function(){}),n},t.prototype.search=function(t){return void 0===t&&(t=new URLSearchParams),this.http.get(this.apiPath,{search:t}).map(Ft.mapResponseToEntities).toPromise()},t.prototype.count=function(t){return this.http.get(this.apiPath+"/count",{search:t}).map(function(t){return t.json().value}).toPromise()},t.mapResponseToEntities=function(t){var e=[];return(t.json()||[]).forEach(function(t){return e.push(Object.assign(new pt,t))}),e},t.mapResponseToEntity=function(t){return Object.assign(new pt,t.json())},t}();At=Ft=Et([Object(i.C)(),kt("design:paramtypes",["function"==typeof(Mt="undefined"!=typeof l.b&&l.b)&&Mt||Object,"function"==typeof(Lt="undefined"!=typeof mt&&mt)&&Lt||Object])],At);var Tt;(It=Tt||(Tt={}))[It.CREATE=0]="CREATE",It[It.EDIT=1]="EDIT",It[It.DELETE=2]="DELETE";var It,Ft,Mt,Lt,zt=function(){function t(t,e,n){this.name=t,this.trigger=e,this.showed=n}return t.prototype.show=function(t){return"function"!=typeof this.showed||!t||this.showed(t)},t}(),Nt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qt=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},Yt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Bt=function(){function t(t){this.agentsService=t,this.agent=new pt}return t.prototype.ngOnInit=function(){var t=this;this.initTable(),this.agentsService.dataChangeEvents.subscribe(function(){return t.initTable()})},t.prototype.initTable=function(){var t=this,e=[new zt("Edit",function(e){return t.agent=e}),new zt("Delete",function(e){confirm("Are you sure you want to delete an agent?")&&t.agentsService.remove(e).then(function(){},function(t){return alert(t.text())})}),new zt("Activate",function(e){t.agentsService.activate(e).then(function(){return ot.success("Agent was activated!")},function(t){return ot.error(t.text())})})];this.tableAdapter=new Vt(this.agentsService,e)},t}();Bt=qt([Object(i.o)({selector:"app-agents",template:n("Vk2T"),styles:[n("Pj7/")]}),Yt("design:paramtypes",["function"==typeof(Ut="undefined"!=typeof At&&At)&&Ut||Object])],Bt);var Ut,Vt=function(t){Nt(e,t);function e(e,n){var i=t.call(this)||this;return i.service=e,i.actions=n,i}return e.prototype.fetchData=function(t){return this.service.search(t.getUrlSearchParams())},e.prototype.fetchCount=function(t){return this.service.count(t.getUrlSearchParams())},e.prototype.getAllColumns=function(){return[new m("ID","id","number"),new m("Name","name"),new m("E-mail","email"),new m("Phone","phone")]},e.prototype.getActions=function(){return this.actions},e}(ft),Qt=n("AP4T"),Ht=function(){function t(){this.onDestroySubject=new R.b,this.onDestroy=Qt.a.from(this.onDestroySubject)}return t.prototype.ngOnDestroy=function(){this.onDestroySubject.next(),this.onDestroySubject.complete()},t}(),Zt=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){t(e,n);function i(){this.constructor=e}e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),Kt=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},Wt=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},Xt=function(t){Zt(e,t);function e(e,n){var i=t.call(this)||this;return i.agentsService=e,i.shiftsService=n,i.agents=[],i.upcomingShifts=[],i.currentShift=new ht,i.agentsActivationInProgress=null,i.shiftsDeletionInProgress=null,i}return e.prototype.ngOnInit=function(){var t=this;this.fetchShifts(),this.shiftsService.dataChangeEvents.takeUntil(this.onDestroy).subscribe(function(){return t.fetchShifts()}),this.agentsService.search(new l.e("limit=8")).then(function(e){return t.agents=e})},e.prototype.activate=function(t){var e=this;this.agentsActivationInProgress=t,this.agentsService.activate(t).then(function(t){return e.agentsActivationInProgress=null},function(t){e.agentsActivationInProgress=null,ot.error("Activation failed: "+t.text())})},e.prototype.deleteShift=function(t){var e=this;this.shiftsDeletionInProgress=t,this.shiftsService.remove(t).then(function(){return e.shiftsDeletionInProgress=null},function(t){e.shiftsDeletionInProgress=null,ot.error("Deletion failed: "+t.text())})},e.prototype.fetchShifts=function(){var t=this;this.shiftsService.search(new l.e("limit=100&end_empty=true&order=start&orderType=ASC")).then(function(e){return t.upcomingShifts=e}),this.shiftsService.getCurrentShift().takeUntil(this.onDestroy).subscribe(function(e){return t.currentShift=e})},e}(Ht);Xt=Kt([Object(i.o)({selector:"app-dashboard",template:n("BeiC"),styles:[n("ZZEr")]}),Wt("design:paramtypes",["function"==typeof($t="undefined"!=typeof At&&At)&&$t||Object,"function"==typeof(Gt="undefined"!=typeof mt&&mt)&&Gt||Object])],Xt);var $t,Gt,Jt=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},te=[{path:"",component:Xt},{path:"shifts",component:xt},{path:"agents",component:Bt}],ee=function(){return function(){}}();ee=Jt([Object(i.M)({imports:[lt.c.forRoot(te)],exports:[lt.c]})],ee);var ne=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},ie=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},oe=function(){function t(t,e){this.agentsService=t,this.element=e,this.isSavingInProgress=!1,console.log("CreateAgentComponent",this)}return t.prototype.ngAfterViewInit=function(){this.jForm=jQuery(this.element.nativeElement).find("form"),this.jForm.form({on:"blur",inline:!0,keyboardShortcuts:!1,fields:{name:"empty",email:"email"}})},t.prototype.resetAgent=function(){this.agent=new pt},t.prototype.save=function(){var t=this;this.jForm.form("is valid")&&(this.isSavingInProgress=!0,this.agentsService.save(this.agent).then(function(){t.isSavingInProgress=!1,t.agent=new pt},function(e){t.isSavingInProgress=!1,console.log("error",e),ot.error("error")}))},t}();ne([Object(i.F)(),ie("design:type","function"==typeof(re="undefined"!=typeof pt&&pt)&&re||Object)],oe.prototype,"agent",void 0),oe=ne([Object(i.o)({selector:"app-create-agent",template:n("ybaH")}),ie("design:paramtypes",["function"==typeof(ae="undefined"!=typeof At&&At)&&ae||Object,"function"==typeof(se="undefined"!=typeof i.v&&i.v)&&se||Object])],oe);var re,ae,se,ce=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},le=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},ue=function(){function t(t){this.shiftsService=t,this.currentShift=new ht}return t.prototype.ngOnInit=function(){var t=this;this.shiftsService.getCurrentShift().subscribe(function(e){return t.currentShift=e}),this.shiftsService.getUpcomingShift().subscribe(function(e){if(t.currentShift){var n=new Date(t.currentShift.start).getTime(),i=new Date(e.start).getTime();t.nextShiftStartIn=i/1e3-n/1e3-t.currentShift.getDuration()}})},t}();ue=ce([Object(i.o)({selector:"app-current-shift",template:n("KFK4")}),le("design:paramtypes",["function"==typeof(fe="undefined"!=typeof mt&&mt)&&fe||Object])],ue);var fe,pe=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},he=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},de=function(){function t(t,e,n){this.shiftsService=t,this.agentsService=e,this.element=n,this.allAgents=[],this.newShift=new ht,this.newShiftMinDate=new Date,this.isShiftBeingSaved=!1}return t.prototype.ngOnInit=function(){var t=this;this.agentsService.search().then(function(e){return t.allAgents=e})},t.prototype.ngAfterViewInit=function(){this.jForm=jQuery(this.element.nativeElement).find("form"),this.jForm.form({on:"blur",inline:!0,keyboardShortcuts:!1,fields:{agent:"empty",datetime:"empty"}})},t.prototype.save=function(){var t=this;this.jForm.form("is valid")&&(this.isShiftBeingSaved=!0,this.shiftsService.save(this.newShift).then(function(){t.newShift=new ht,t.isShiftBeingSaved=!1},function(){}))},t.prototype.setNewShiftStart=function(t){if(t&&t.date){var e=t.date,n=new Date(e.getTime()-60*e.getTimezoneOffset()*1e3);this.newShift.start=n.toISOString().substr(0,22)}},t}();de=pe([Object(i.o)({selector:"app-schedule-shift",template:n("4pGr")}),he("design:paramtypes",["function"==typeof(ge="undefined"!=typeof mt&&mt)&&ge||Object,"function"==typeof(ye="undefined"!=typeof At&&At)&&ye||Object,"function"==typeof(me="undefined"!=typeof i.v&&i.v)&&me||Object])],de);var ge,ye,me,be=this&&this.__decorate||function(t,e,n,i){var o,r=arguments.length,a=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(r<3?o(a):r>3?o(e,n,a):o(e,n))||a);return r>3&&a&&Object.defineProperty(e,n,a),a},ve=function(){return function(){}}();ve=be([Object(i.M)({declarations:[c,Bt,oe,xt,Xt,ue,de],imports:[r.a,l.c,u.a,st,ee],providers:[mt,At,{provide:l.b,deps:[l.f,l.d],useFactory:function(t,e){return new H(t,e)}}],bootstrap:[c]})],ve);Object(i._23)(),Object(o.a)().bootstrapModule(ve)},dWrS:function(t,e){t.exports='<form class="milo-table-form ui form" (ngSubmit)="filter()">\n\t<table class="ui striped celled table">\n\n\t\t<thead>\n\t\t<tr>\n\t\t\t<th *ngFor="let column of columns" (click)="changeSort(column)">\n\t\t\t\t<i class="sort icon" style="float: right;"\n\t\t\t\t   [ngClass]="{\'ascending\': column.key == state.order && state.orderType == \'ASC\',\n\t\t\t               \'descending\': column.key == state.order && state.orderType == \'DESC\'}">\n\t\t\t\t</i>\n\t\t\t\t{{column.name}}\n\t\t\t</th>\n\t\t\t<th style="text-align: right;">\n\t\t\t\t<div class="ui left labeled button" (click)="showFilters=!showFilters">\n\t\t\t\t\t<a class="ui basic label">\n\t\t\t\t\t\t{{rowsTotalCount}}\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class="ui icon button">\n\t\t\t\t\t\t<i class="filter icon"></i>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t</tr>\n\t\t<tr *ngIf="showFilters">\n\t\t\t<th *ngFor="let column of columns">\n\t\t\t\t<milo-filter [column]="column" [value]="state.getValue(column)" (onChange)="changeFilter(column, $event)">\n\t\t\t\t</milo-filter>\n\t\t\t</th>\n\t\t\t<th>\n\t\t\t\t<button class="ui icon fluid button">\n\t\t\t\t\t<i class="search icon"></i>\n\t\t\t\t</button>\n\t\t\t</th>\n\t\t</tr>\n\t\t</thead>\n\n\n\t\t<tbody>\n\t\t<tr *ngFor="let row of rows">\n\t\t\t<td *ngFor="let column of columns">\n\t\t\t\t{{row ? column.view(row) : ""}}\n\t\t\t</td>\n\t\t\t<td>\n\t\t\t\t<button *ngFor="let action of actions" (click)="action.trigger(row)" type="button" class="ui icon button" [ngClass]="action.name"\n\t\t\t\t        [ngStyle]="{\'display\': action.show(row) ? \'inline-block\' : \'none\', visibility: row ? \'visible\': \'hidden\'}">\n\t\t\t\t\t\x3c!--<i class="pencil icon"></i> showed/hidden--\x3e\n\t\t\t\t\t{{action.name}}\n\t\t\t\t</button>\n\t\t\t</td>\n\t\t</tr>\n\t\t</tbody>\n\n\n\t\t<tfoot>\n\t\t<tr>\n\t\t\t<th [attr.colspan]="columns.length + 1">\n\t\t\t\t<div class="ui stackable grid">\n\t\t\t\t\t<div class="ten wide column">\n\t\t\t\t\t\t<button type="button" class="ui small button" *ngFor="let value of [5, 10, 20, 50, 100]"\n\t\t\t\t\t\t        (click)="changePageSize(value)" [ngClass]="{\'active\': value == state.pageSize}">\n\t\t\t\t\t\t\t{{value}}\n\t\t\t\t\t\t</button>\n\t\t\t\t\t\trows / page\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class="six wide column">\n\t\t\t\t\t\t<div class="ui right floated buttons">\n\t\t\t\t\t\t\t<button type="button" class="ui icon button" (click)="changePage(-1)">\n\t\t\t\t\t\t\t\t<i class="left chevron icon"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t\t<button type="button" class="ui basic button">{{state.page}} / {{maxPages}}</button>\n\t\t\t\t\t\t\t<button type="button" class="ui icon button" (click)="changePage(1)">\n\t\t\t\t\t\t\t\t<i class="right chevron icon"></i>\n\t\t\t\t\t\t\t</button>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</th>\n\t\t</tr>\n\t\t</tfoot>\n\n\n\t</table>\n</form>'},e4G1:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},ebfS:function(t,e){t.exports='\x3c!--<div [ngSwitch]="type">--\x3e\n\t\x3c!--ng-class="{\'has-error\': hasError}"--\x3e\n\t<label *ngIf="label != null" [for]="id">{{label}}</label>\n\n\t<input *ngIf="type!=\'textarea\' && type!=\'checkbox\'" [(ngModel)]="model[name]" [type]="type" [id]="id" [placeholder]="name"/>\n\t<input *ngIf="type==\'checkbox\'" [(ngModel)]="model[name]" type="checkbox" [id]="id"/>\n\n\t\x3c!--<milo-select-entity *ngSwitchCase="select" [(ngModel)]="model[name]" [values]="values" [id]="id"></milo-select-entity>--\x3e\n\t\x3c!--<milo-select-enum *ngSwitchCase="enum" [(ngModel)]="model[name]" [values]="values" [id]="id"></milo-select-enum>--\x3e\n\t<textarea *ngIf="type==\'textarea\'" [(ngModel)]="model[name]" [id]="id" rows="3"></textarea>\n\n\t\t\x3c!--<span milo-error-label="hasError"></span>--\x3e\n\n\x3c!--</div>--\x3e\n'},efyd:function(t,e){t.exports='<div style="text-align:center">\n\t<h1>\n\t\tWelcome to Shift Planner App!!\n\t</h1>\n\t<nav>\n\t\t<a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}">Dashboard</a> |\n\t\t<a routerLink="/agents" routerLinkActive="active">Agents</a> |\n\t\t<a routerLink="/shifts" routerLinkActive="active">Shifts log</a>\n\t</nav>\n</div>\n\n<router-outlet *ngIf="componentInitialized"></router-outlet>\n\n<milo-loading (onReloadRequested)="reload()"></milo-loading>\n\n<milo-notification></milo-notification>\n\n<footer>\n\tCopyright Richard Casar\n</footer>'},gFIY:function(t,e){function n(t){return Promise.resolve().then(function(){throw new Error("Cannot find module '"+t+"'.")})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="gFIY"},hxJY:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"nav a.active{color:rgba(0,0,0,.87)}",""]),t.exports=t.exports.toString()},mSKe:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,".milo-notification{position:fixed;bottom:2em;width:100%;margin-left:-3rem;border-radius:0;border-width:1px 0}.milo-notification i.close.icon{margin-top:-.25em}",""]),t.exports=t.exports.toString()},"sem+":function(t,e){t.exports='<div style="text-align:center">\n\t<h1>\n\t\tWelcome to {{title}}!!\n\t</h1>\n\t<milo-table [adapter]="table"></milo-table>\n</div>\n<h2>Here are some links to help you start: </h2>\n<ul>\n\t<li>\n\t\t<h2><a target="_blank" href="https://angular.io/tutorial">Tour of Heroes</a></h2>\n\t</li>\n\t<li>\n\t\t<h2><a target="_blank" href="https://github.com/angular/angular-cli/wiki">CLI Documentation</a></h2>\n\t</li>\n\t<li>\n\t\t<h2><a target="_blank" href="http://angularjs.blogspot.ca/">Angular blog</a></h2>\n\t</li>\n</ul>\n'},tZne:function(t,e,n){(t.exports=n("rP7Y")(!1)).push([t.i,"",""]),t.exports=t.exports.toString()},yZ08:function(t,e){t.exports='<svg id="loading" (click)="reload()" [ngClass]="loadingClass" viewBox="0 0 100 100" version="1.1" xmlns="http://www.w3.org/2000/svg">\n\t<path d="M 0 0 H 100 V 100 Z" fill="#555" />\n\t<circle cx="50" cy="50" r="50" fill="#aaa" />\n\t<path id="inner-circle-path" d="M81.5 17.5 A 45 45, 0, 1, 0, 82.5 18.5 Z" fill="transparent" />\n\t<path class="reload" *ngIf="loadingsCount == 0" d="M70 25 A 32 32, 0, 1, 0, 75 70" fill="transparent" stroke="white" stroke-width="7" />\n\t<path class="reload" *ngIf="loadingsCount == 0" d="M69 25, 63 32 h 13 v -15 Z" fill="#fff" />\n\t<circle class="load" [ngClass]="{\'hidden\': loadingsCount == 0}" cx="0" cy="0" r="5" fill="#555">\n\t\t<animateMotion dur="1.5s" repeatCount="indefinite">\n\t\t\t<mpath xlink:href="#inner-circle-path" />\n\t\t</animateMotion>\n\t</circle>\n\t<text class="load" x="50" y="60" text-anchor="middle" fill="white" [innerHTML]="loadingsCount">\n\t</text>\n</svg>'},ybaH:function(t,e){t.exports='<h2 *ngIf="!agent.id">Create agent</h2>\n<h2 *ngIf="agent.id">\n\tEdit agent\n\t<button class="ui button" (click)="resetAgent()">New</button>\n</h2>\n\n<form id="agents-form" class="ui big form" (ngSubmit)="save()">\n\n\t<div class="four fields">\n\t\t<div class="field">\n\t\t\t<input type="text" name="name" placeholder="Name / Nick" [(ngModel)]="agent.name" />\n\t\t</div>\n\t\t<div class="field">\n\t\t\t<input type="text" name="email" placeholder="E-mail" [(ngModel)]="agent.email" />\n\t\t</div>\n\t\t<div class="field">\n\t\t\t<input type="text" name="phone" placeholder="Phone" [(ngModel)]="agent.phone" />\n\t\t</div>\n\t\t<div class="field">\n\t\t\t<button type="submit" class="ui big fluid primary button" [ngClass]="{\'loading\': isSavingInProgress}">\n\t\t\t\tSave {{agent.id ? \'agent [id:\' + agent.id + \']\': \'new agent\'}}\n\t\t\t</button>\n\t\t</div>\n\t</div>\n\n</form>'}},[0]);